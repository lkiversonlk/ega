"use strict";var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),w=canvas.width=window.innerWidth,h=canvas.height=window.innerHeight,hue=217,stars=[],count=0,maxStars=300,canvas2=document.createElement("canvas"),ctx2=canvas2.getContext("2d");canvas2.width=100,canvas2.height=100;var half=canvas2.width/2,gradient2=ctx2.createRadialGradient(half,half,0,half,half,half);gradient2.addColorStop(.025,"#fff"),gradient2.addColorStop(.1,"hsl("+hue+", 61%, 33%)"),gradient2.addColorStop(.25,"hsl("+hue+", 64%, 6%)"),gradient2.addColorStop(1,"transparent"),ctx2.fillStyle=gradient2,ctx2.beginPath(),ctx2.arc(half,half,half,0,2*Math.PI),ctx2.fill();function random(a,t){if(arguments.length<2&&(t=a,a=0),a>t){var i=t;t=a,a=i}return Math.floor(Math.random()*(t-a+1))+a}function maxOrbit(a,t){var i=Math.max(a,t);return Math.round(Math.sqrt(i*i+i*i))/2}var Star=function(){this.orbitRadius=random(maxOrbit(w,h)),this.radius=random(60,this.orbitRadius)/12,this.orbitX=w/2,this.orbitY=h/2,this.timePassed=random(0,maxStars),this.speed=random(this.orbitRadius)/5e4,this.alpha=random(2,10)/10,stars[++count]=this};Star.prototype.draw=function(){var a=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,t=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,i=random(10);1===i&&this.alpha>0?this.alpha-=.05:2===i&&this.alpha<1&&(this.alpha+=.05),ctx.globalAlpha=this.alpha,ctx.drawImage(canvas2,a-this.radius/2,t-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed};for(var i=0;i<maxStars;i++)new Star;function animation(){ctx.globalCompositeOperation="source-over",ctx.globalAlpha=.8,ctx.fillStyle="hsla("+hue+", 64%, 6%, 1)",ctx.fillRect(0,0,w,h),ctx.globalCompositeOperation="lighter";for(var a=1,t=stars.length;a<t;a++)stars[a].draw();window.requestAnimationFrame(animation)}animation();