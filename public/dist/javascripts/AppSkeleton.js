!function(){"use strict";Cesium.BingMapsApi.defaultKey="At36HWsCzUCdp9mDZXKXChHywJ4Rzt7OHdw-VLodUMknjJVR5VVS-E-BCanlX8W-",Cesium.MapboxApi.defaultAccessToken="pk.eyJ1IjoibGtpdmVyc29ubGsiLCJhIjoiY2piazI1M3J3NDZjdzJycWZpdHlxemkxYiJ9.P2vygQ0KUl5QdnL6GQ60AA";var e=new Cesium.Viewer("galaxy",{selectionIndicator:!1,baseLayerPicker:!0,animation:!1,timeline:!1,infoBox:!1,geocoder:!1,shadows:!1,imageProvider:new Cesium.BingMapsImageryProvider({url:"https://dev.virtualearth.net",mapStyle:Cesium.BingMapsStyle.CANVAS_LIGHT})});e.scene.globe.enableLighting=!1;var r=e.baseLayerPicker.viewModel;r.selectedImagery=r.imageryProviderViewModels[2];e.scene;initI18n(),init_navbar_event(),window.addEventListener("load",function(){if("undefined"==typeof web3)return console.log("No web3? You should consider trying MetaMask!"),showError(NOT_CONNECTED_TO_ETH),void $("#network").html("no ether network found");if(window.web3=new Web3(web3.currentProvider),!registryAddresses.hasOwnProperty(web3.version.network))return showError(UNKNOWN_NETWORK),void $("#network").html(UNKNOWN_NETWORK);$("#network").html(networkName[web3.version.network]),$("#contract").prop("href",getEtherAddress(web3.version.network,registryAddresses[web3.version.network]));var r=window.earth=InitEarthContract(web3,registryAddresses[web3.version.network]);$("#status-contract").html(registryAddresses[web3.version.network]),new AvatarUpload({el:document.querySelector("#player-avatar"),uploadUrl:"/avatar/upload",uploadData:{address:web3.eth.coinbase}});var t=window._galaxyApis={};web3.eth.coinbase?(n=e,a=t,(i=r).mapSize(function(e,r){if(e);else{var t=new Configuration,o=new Grid(r,t);o.drawGrids(n),o.drawGridAvatars(n),init_galaxy(a,o,i,n,t),a.refresh_earth_status(i),a.refresh_player_status(i),init_mouse_event(a,n,o),init_galay_status_event(n,o),init_player_status_event(i,a),init_grid_oper_event(i,o,a,t,n),a.locate_user()}})):showError(ACCOUNT_NOT_CONNECTED);var i,n,a})}();