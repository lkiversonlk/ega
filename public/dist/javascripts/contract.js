function Contract(t){this.instance=t,this.init(),"undefined"==typeof window?this.server=!0:this.server=!1}Contract.prototype.init=function(){var t=this;t.instance.abi.forEach(function(n){t[n.name]=function(){var e=n.inputs,r=n.outputs,a=Array.prototype.pop.call(arguments);if("function"!=typeof a)throw"the last arguments must be an callback function!";if(arguments.length<e.length){var o=n.name+" needs "+e.length+" parameters and 1 callback at least";return a({message:o})}var u=null;arguments.length==e.length+1&&(u=Array.prototype.pop.call(arguments));for(var i=[],l=0;l<e.length;l++){arguments[l],e[l];i.push(arguments[l])}null!=u&&i.push(u),i.push(function(e,o){if(e)return console.log("calling function "+n.name+" failed :"+e.toString()),t.server||showError(CONTRACT_CALL_ERROR),a(e);if(n.constant){if(1==r.length)return a(null,_paserOutput(o,r[0].type));for(var u=[],i=0;i<r.length;i++)u.push(_paserOutput(o[i],r[i].type));return a(null,u)}return a(null,o)}),t.instance[n.name].apply(t.instance,i)}})};function _paserOutput(t,n){return"address"==n?t.toString():t.toNumber()}"undefined"!=typeof module&&(module.exports=Contract);